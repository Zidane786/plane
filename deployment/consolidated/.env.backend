# ==============================================================================
# Plane Backend - Environment Configuration (CONSOLIDATED)
# ==============================================================================
# This single file configures ALL backend services:
# - API, Worker, Beat Worker, Live Server
#
# SECURITY: Keep this file secure and NEVER commit to version control!
# ==============================================================================

# ==============================================================================
# TRAEFIK ROUTING (Dokploy)
# ==============================================================================
API_DOMAIN=plane-api.mohdop.com
FRONTEND_DOMAIN=plane.mohdop.com

# ==============================================================================
# DJANGO CONFIGURATION (API + Workers)
# ==============================================================================
SECRET_KEY=LtBkbgDqp-ZUlhkBjoO3kH6ftJpj6TcXR_w5HhKVsezQ_qK52pxAAUXokyJlwOUUh_U
DEBUG=0
DJANGO_SETTINGS_MODULE=plane.settings.production

# ==============================================================================
# DATABASE (All backend services)
# ==============================================================================
POSTGRES_USER=plane
POSTGRES_PASSWORD=ajMeB9eLtQSBfZS_vz4R1ELZE9n34KL3RzhhoK4EqJg
POSTGRES_DB=plane
DATABASE_URL=postgresql://plane:ajMeB9eLtQSBfZS_vz4R1ELZE9n34KL3RzhhoK4EqJg@plane-postgres:5432/plane
PGUSER=plane
PGPASSWORD=ajMeB9eLtQSBfZS_vz4R1ELZE9n34KL3RzhhoK4EqJg
PGHOST=plane-postgres
PGDATABASE=plane

# ==============================================================================
# REDIS (All backend services)
# ==============================================================================
REDIS_HOST=plane-redis
REDIS_PORT=6379
REDIS_URL=redis://plane-redis:6379/

# ==============================================================================
# RABBITMQ & CELERY (API + Workers)
# ==============================================================================
RABBITMQ_USER=plane
RABBITMQ_PASSWORD=lnI5L_985_Ikx6w6l73D9_XeS9m361SCetuBp_UwjBU
RABBITMQ_VHOST=plane
RABBITMQ_HOST=plane-rabbitmq
RABBITMQ_PORT=5672
CELERY_BROKER_URL=amqp://plane:lnI5L_985_Ikx6w6l73D9_XeS9m361SCetuBp_UwjBU@plane-rabbitmq:5672/plane

# ==============================================================================
# APPLICATION URLS
# ==============================================================================
WEB_URL=https://plane.mohdop.com
API_BASE_URL=https://plane-api.mohdop.com
ADMIN_BASE_URL=https://plane.mohdop.com
ADMIN_BASE_PATH=/god-mode
SPACE_BASE_URL=https://plane.mohdop.com
SPACE_BASE_PATH=/spaces
LIVE_BASE_URL=https://plane.mohdop.com
LIVE_BASE_PATH=/live

# ==============================================================================
# CORS
# ==============================================================================
CORS_ALLOWED_ORIGINS=https://plane.mohdop.com

# ==============================================================================
# FILE STORAGE - S3-Compatible (Choose ONE provider)
# ==============================================================================

# --- ACTIVE: Digital Ocean Spaces ---
USE_MINIO=0
AWS_ACCESS_KEY_ID=DO801XJ672NTVLANA8G4
AWS_SECRET_ACCESS_KEY=XinIAu3yMGJtOWUtvbOjY97j4rt6v5R5hk6RCpEWt6c
AWS_REGION=blr1
AWS_S3_ENDPOINT_URL=https://blr1.digitaloceanspaces.com
AWS_S3_BUCKET_NAME=plane-agent-coding

# --- OPTION: AWS S3 ---
# USE_MINIO=0
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_ENDPOINT_URL=https://s3.us-east-1.amazonaws.com
# AWS_S3_BUCKET_NAME=your-bucket-name

# --- OPTION: MinIO (Self-hosted) ---
# USE_MINIO=1
# AWS_ACCESS_KEY_ID=your-minio-access-key
# AWS_SECRET_ACCESS_KEY=your-minio-secret-key
# AWS_REGION=us-east-1
# AWS_S3_ENDPOINT_URL=http://plane-minio:9000
# AWS_S3_BUCKET_NAME=uploads
# MINIO_ENDPOINT_SSL=0

FILE_SIZE_LIMIT=5242880

# ==============================================================================
# GUNICORN
# ==============================================================================
GUNICORN_WORKERS=2

# ==============================================================================
# EMAIL (API + Worker)
# ==============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=mail.mohdop.com
EMAIL_PORT=587
EMAIL_USE_TLS=1
EMAIL_HOST_USER=zidane@mohdop.com
EMAIL_HOST_PASSWORD=123
DEFAULT_FROM_EMAIL=zidane@mohdop.com

# ==============================================================================
# SECURITY
# ==============================================================================
ALLOWED_HOSTS=plane-api.mohdop.com,localhost
SESSION_COOKIE_SECURE=1
CSRF_COOKIE_SECURE=1

# ==============================================================================
# AI INTEGRATION (OpenAI)
# ==============================================================================
OPENAI_API_KEY=your-openai-api-key-here
GPT_ENGINE=gpt-4

# ==============================================================================
# PYTHON
# ==============================================================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
