# ==============================================================================
# Plane Celery Worker - Environment Configuration
# ==============================================================================
# This file contains environment variables for Celery background workers
# Handles: emails, webhooks, notifications, imports/exports, file processing
#
# SECURITY: Keep this file secure and NEVER commit to version control!
# ==============================================================================

# ==============================================================================
# DJANGO CONFIGURATION - REQUIRED
# ==============================================================================
# CRITICAL: Must match SECRET_KEY from .env.api!
SECRET_KEY=LtBkbgDqp-ZUlhkBjoO3kH6ftJpj6TcXR_w5HhKVsezQ_qK52pxAAUXokyJlwOUUh_U
DEBUG=0
DJANGO_SETTINGS_MODULE=plane.settings.production

# ==============================================================================
# DATABASE CONFIGURATION - REQUIRED
# ==============================================================================
# Must match values from .env.infra and .env.api
POSTGRES_USER=plane
POSTGRES_PASSWORD=ajMeB9eLtQSBfZS_vz4R1ELZE9n34KL3RzhhoK4EqJg
POSTGRES_DB=plane

# PostgreSQL Connection
PGUSER=${POSTGRES_USER}
PGPASSWORD=${POSTGRES_PASSWORD}
PGHOST=plane-postgres
PGDATABASE=${POSTGRES_DB}
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@plane-postgres:5432/${POSTGRES_DB}

# ==============================================================================
# REDIS CONFIGURATION - REQUIRED
# ==============================================================================
REDIS_HOST=plane-redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/

# ==============================================================================
# RABBITMQ & CELERY CONFIGURATION - REQUIRED
# ==============================================================================
# Must match values from .env.infra and .env.api
RABBITMQ_USER=plane
RABBITMQ_PASSWORD=lnI5L_985_Ikx6w6l73D9_XeS9m361SCetuBp_UwjBU
RABBITMQ_VHOST=plane
RABBITMQ_HOST=plane-rabbitmq
RABBITMQ_PORT=5672
CELERY_BROKER_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/${RABBITMQ_VHOST}

# ==============================================================================
# FILE STORAGE - S3-Compatible (Choose ONE provider)
# ==============================================================================
# Must match values from .env.api

# --- ACTIVE: Digital Ocean Spaces ---
USE_MINIO=0
AWS_ACCESS_KEY_ID=DO801XJ672NTVLANA8G4
AWS_SECRET_ACCESS_KEY=XinIAu3yMGJtOWUtvbOjY97j4rt6v5R5hk6RCpEWt6c
AWS_REGION=blr1
AWS_S3_ENDPOINT_URL=https://blr1.digitaloceanspaces.com
AWS_S3_BUCKET_NAME=plane-agent-coding

# --- OPTION: AWS S3 ---
# USE_MINIO=0
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_ENDPOINT_URL=https://s3.us-east-1.amazonaws.com
# AWS_S3_BUCKET_NAME=your-bucket-name

# --- OPTION: MinIO (Self-hosted) ---
# USE_MINIO=1
# AWS_ACCESS_KEY_ID=your-minio-access-key
# AWS_SECRET_ACCESS_KEY=your-minio-secret-key
# AWS_REGION=us-east-1
# AWS_S3_ENDPOINT_URL=http://plane-minio:9000
# AWS_S3_BUCKET_NAME=uploads

# ==============================================================================
# EMAIL CONFIGURATION - REQUIRED (for sending emails from worker)
# ==============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# Custom SMTP Server Configuration
EMAIL_HOST=mail.mohdop.com
EMAIL_PORT=587
EMAIL_USE_TLS=1
EMAIL_HOST_USER=zidane@mohdop.com
EMAIL_HOST_PASSWORD=123

# From Email Address
DEFAULT_FROM_EMAIL=zidane@mohdop.com

# ==============================================================================
# APPLICATION URLS - REQUIRED (for generating links in emails)
# ==============================================================================
WEB_URL=https://plane.mohdop.com
API_BASE_URL=https://plane-api.mohdop.com

# ==============================================================================
# AI INTEGRATION (OpenAI) - OPTIONAL (for background AI tasks)
# ==============================================================================
# Must match values from .env.api if using AI features
OPENAI_API_KEY=your-openai-api-key-here
GPT_ENGINE=gpt-4

# ==============================================================================
# MONITORING - OPTIONAL
# ==============================================================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ==============================================================================
# PYTHON ENVIRONMENT
# ==============================================================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
