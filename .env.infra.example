# ==============================================================================
# Plane Infrastructure Services Environment Configuration
# ==============================================================================
# This file contains environment variables for Docker-based infrastructure
# services: PostgreSQL, Redis, RabbitMQ, and MinIO
# Use with docker-compose.infra.yml
# ==============================================================================

# ==============================================================================
# POSTGRESQL CONFIGURATION (Required)
# ==============================================================================
POSTGRES_USER=plane
POSTGRES_PASSWORD=plane-db-password-change-this
POSTGRES_DB=plane

# PostgreSQL data directory
PGDATA=/var/lib/postgresql/data

# PostgreSQL connection settings
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_MAX_CONNECTIONS=1000

# ==============================================================================
# REDIS CONFIGURATION (Required)
# ==============================================================================
REDIS_HOST=redis
REDIS_PORT=6379

# Redis password (optional, uncomment to enable auth)
# REDIS_PASSWORD=redis-password-change-this

# ==============================================================================
# RABBITMQ CONFIGURATION (Required)
# ==============================================================================
# RabbitMQ credentials (used by all Plane services)
RABBITMQ_USER=plane
RABBITMQ_PASSWORD=rabbitmq-password-change-this
RABBITMQ_VHOST=plane

# RabbitMQ connection details
RABBITMQ_HOST=plane-rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# ==============================================================================
# MINIO CONFIGURATION - S3-Compatible Storage (Required)
# ==============================================================================
# MinIO credentials (used by all Plane services for S3-compatible storage)
# These map to MINIO_ROOT_USER/PASSWORD inside the container
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin-password-change-this

# MinIO API configuration
MINIO_HOST=plane-minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# S3 bucket name
AWS_S3_BUCKET_NAME=uploads

# AWS region
AWS_REGION=us-east-1

# ==============================================================================
# VOLUME CONFIGURATION (Optional - has defaults)
# ==============================================================================
# Docker volume names for persistent data
POSTGRES_VOLUME=plane-postgres-data
REDIS_VOLUME=plane-redis-data
RABBITMQ_VOLUME=plane-rabbitmq-data
MINIO_VOLUME=plane-minio-data

# ==============================================================================
# NETWORK CONFIGURATION (Optional - has defaults)
# ==============================================================================
# Docker network name
PLANE_NETWORK=plane-network

# ==============================================================================
# BACKUP CONFIGURATION (Optional)
# ==============================================================================
# Backup directory (for automated backups)
BACKUP_DIR=/backups/plane

# Backup retention days
# Default: 30 days
BACKUP_RETENTION_DAYS=30
