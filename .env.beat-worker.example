# ==============================================================================
# Plane Beat Worker Environment Configuration for Dokploy
# ==============================================================================
# Copy this file and set in Dokploy's environment variables for the Beat Worker app
# Purpose: Celery Beat Scheduler - handles scheduled/periodic tasks
#
# NOTE: Beat worker shares most config with API/Worker but doesn't need:
# - Traefik routing (not externally accessible)
# - CORS settings
# - URL configurations
# - Gunicorn settings
# ==============================================================================

# ==============================================================================
# DJANGO CONFIGURATION (Required)
# ==============================================================================
# MUST match the API service's SECRET_KEY
SECRET_KEY=your-super-secret-key-here-change-this-in-production

# Debug mode - ALWAYS set to 0 in production
DEBUG=0

# Django settings module
DJANGO_SETTINGS_MODULE=plane.settings.production

# ==============================================================================
# DATABASE CONFIGURATION (Required)
# ==============================================================================
# PostgreSQL credentials (must match docker-compose.infra.yml and API service)
POSTGRES_USER=plane
POSTGRES_PASSWORD=plane-db-password-change-this
POSTGRES_DB=plane

# For Docker PostgreSQL (from docker-compose.infra.yml):
PGUSER=${POSTGRES_USER}
PGPASSWORD=${POSTGRES_PASSWORD}
PGHOST=plane-postgres
PGDATABASE=${POSTGRES_DB}
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@plane-postgres:5432/${POSTGRES_DB}

# ==============================================================================
# REDIS CONFIGURATION (Required)
# ==============================================================================
# For Docker Redis (from docker-compose.infra.yml):
REDIS_HOST=plane-redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/

# ==============================================================================
# RABBITMQ CONFIGURATION (Required)
# ==============================================================================
# RabbitMQ credentials (must match docker-compose.infra.yml and API service)
RABBITMQ_USER=plane
RABBITMQ_PASSWORD=rabbitmq-password-change-this
RABBITMQ_VHOST=plane

# For Docker RabbitMQ (from docker-compose.infra.yml):
RABBITMQ_HOST=plane-rabbitmq
RABBITMQ_PORT=5672

# ==============================================================================
# CELERY CONFIGURATION (Required)
# ==============================================================================
# Celery broker URL
CELERY_BROKER_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/${RABBITMQ_VHOST}

# ==============================================================================
# PYTHON ENVIRONMENT (Required)
# ==============================================================================
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
